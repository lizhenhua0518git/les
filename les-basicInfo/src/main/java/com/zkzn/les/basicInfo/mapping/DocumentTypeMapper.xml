<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zkzn.les.basicInfo.dao.DocumentTypeDao">

<select id="listDocumentType" resultType="com.zkzn.les.basicInfo.pojo.DocumentType">
	select * from t_document_type 
	<where>
		<if test="documentCode !=null and ''!= documentCode"> and document_code like '%${documentCode}%'</if>
		<if test="documentName !=null and ''!= documentName"> and document_name like '%${documentName}%'</if>
		<if test="businessType !=null "> and business_type = #{businessType}</if>
		<if test="sourceOfDocument !=null "> and source_of_document = #{sourceOfDocument}</if>
		<if test="status !=null "> and status = #{status}</if>
		<if test="businessTypeStr !=null and businessTypeStr != ''">
			 and business_type in
			 <foreach item="item" index="index" collection="businessTypeStr.split(',')" open="(" separator="," close=")">
				 '${item}'
			 </foreach>
		 </if>
		<if test="documentCodesSpecific != null and documentCodesSpecific !=''">
			and DOCUMENT_CODE not in
			<foreach item="item" index="index" collection="documentCodesSpecific.split(',')" open="(" separator="," close=")">
				'${item}'
			</foreach>
		</if>
	</where>
</select>

<insert id="saveDocumentType" parameterType="com.zkzn.les.basicInfo.pojo.DocumentType">
	insert into t_document_type 
	<trim prefix="(" suffix=")" suffixOverrides=",">
		id,
		<if test="documentCode !=null and ''!= documentCode">document_code,</if>
		<if test="documentName !=null and ''!= documentName">document_name,</if>
		<if test="businessType !=null ">business_type,</if>
		<if test="sourceOfDocument !=null ">source_of_document,</if>
		<if test="status !=null ">status,</if>
		<if test="createrId !=null and ''!= createrId">creater_id,</if>
		<if test="createrName !=null and ''!= createrName">creater_name,</if>
		<if test="createTime !=null ">create_time,</if>
		<if test="modifierId !=null and ''!= modifierId ">modifier_id,</if>
		<if test="modifierName !=null and ''!= modifierName ">modifier_ame,</if>
		<if test="modifiedTime !=null ">modified_time,</if>
	</trim>
	<trim prefix="values (" suffix=")" suffixOverrides=",">
		 replace(uuid(),'-',''),
		<if test="documentCode !=null and ''!= documentCode">#{documentCode},</if>
		<if test="documentName !=null and ''!= documentName">#{documentName},</if>
		<if test="businessType !=null ">#{businessType},</if>
		<if test="sourceOfDocument !=null ">#{sourceOfDocument},</if>
		<if test="status !=null ">#{status},</if>
		<if test="createrId !=null and ''!= createrId">#{createrId},</if>
		<if test="createrName !=null and ''!= createrName">#{createrName},</if>
		<if test="createTime !=null ">#{createTime},</if>
		<if test="modifierId !=null and''!= modifierId ">#{modifierId},</if>
		<if test="modifierName !=null and ''!= modifierName ">#{modifierName},</if>
		<if test="modifiedTime !=null ">#{modifiedTime},</if>
	</trim>
</insert>

<update id="updateDocumentType" parameterType="com.zkzn.les.basicInfo.pojo.DocumentType">
	update t_document_type 
	<trim prefix="set" prefixOverrides=",">
		<if test="documentCode !=null and ''!= documentCode">,document_code=#{documentCode}</if>
		<if test="documentName !=null and ''!= documentName">,document_name=#{documentName}</if>
		<if test="businessType !=null ">,business_type=#{businessType}</if>
		<if test="sourceOfDocument !=null ">,source_of_document=#{sourceOfDocument}</if>
		<if test="status !=null ">,status= #{status}</if>
		<if test="createrId !=null and ''!= createrId">,creater_id=#{createrId}</if>
		<if test="createrName !=null and ''!= createrName">,creater_name=#{createrName}</if>
		<if test="createTime !=null ">,create_time=#{createTime}</if>
		<if test="modifierId !=null and''!= modifierId ">,modifier_id=#{modifierId}</if>
		<if test="modifierName !=null and ''!= modifierName ">,modifier_name=#{modifierName}</if>
		<if test="modifiedTime !=null ">,modified_time=#{modifiedTime}</if>
	</trim>
	where id=#{id}
</update>

<delete id="deleteDocumentType">
	delete from t_document_type where id in 
	<foreach collection="list" open="(" close=")" index="index" item="item" separator=",">
		#{item}
	</foreach>
</delete>
</mapper>