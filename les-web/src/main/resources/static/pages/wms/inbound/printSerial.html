<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta http-equiv="Content-Type" content="charset=UTF-8">
<meta name="viewport"
    content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<title>序列号打印</title>
<link rel="stylesheet" href="/iles/pages/layui/css/layui.css"  type="text/css" />
</head>
<body>
<div class="layui-container" style="padding-top: 20px;">
		<form class="layui-form" action="">
			<div class="layui-form-item">
				<div class="layui-inline">
				    <label class="layui-form-label layui-required">序列号</label>
				    <div class="layui-input-block">
				    	<textarea placeholder="请输入序列号" class="layui-textarea" name="serialNum" id="serialNum"></textarea>
				    </div>
			 	</div>
			</div>
			<div class="layui-form-item">
	                <div class="layui-btn-container" style="text-align: center;">
	                  <button class="layui-btn layui-btn-normal layui-btn-sm" lay-submit="" lay-filter="serialSubit" id="serve" >打印</button>
	                  <button class="layui-btn layui-btn-normal layui-btn-sm"  lay-submit=""  lay-filter="reset" id="reset">重置</button>
	                </div>
            </div>
		</form>
</div>
<div id="printDiv">
<div id="barcode" ></div>
<span id="serialNumSpan"></span>
</div>
<script src="/iles/pages/layui/layui.all.js" charset="UTF-8"></script>
<script src="/iles/pages/lib/jquery-qrcode-0.14.0/jquery.min.js"></script>
<script src="/iles/pages/lib/jquery-barcode/jquery-migrate-1.2.1.min.js"></script>
<script src="/iles/pages/lib/jquery-barcode/jquery.jqprint-0.3.js"></script>
<script src="/iles/pages/lib/jquery-barcode/jquery-barcode.js"></script>
<script type="text/javascript">
var form = layui.form;
var layer = layui.layer;
form.on('submit(serialSubit)', function(data){
	var serialNum = data.field.serialNum;
	if(serialNum.length<64){
		layer.alert("请输入64位序列号");
		return false;
	}
	$("#serialNumSpan").text(serialNum);
	$('#barcode').empty().barcode(serialNum, "code128",{//code128为条形码样式
		output:'css',
		color: '#000000', 
		barWidth: 1,        //单条条码宽度
        barHeight: 50,     //单体条码高度
		addQuietZone: false,
		showHRI:false
	});
	$("#printDiv").jqprint();
	$("#printDiv").hide();
	return false;
});

</script>
</body>
</html>