<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="Access-Control-Allow-Origin" content="*" />
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"/>
<title>配送计划概览</title>
<link rel="stylesheet" href="/iles/pages/layui/css/layui.css"  type="text/css" />
<link rel="stylesheet" href="/iles/pages/wms/controlCabin/productPlanBoard/plugins/digital/flipclock.css">
<link rel="stylesheet" href="/iles/pages/wms/controlCabin/productPlanBoard/css/progressView.css">
<script src="/iles/pages/js/jquery-3.3.1.min.js"></script>
</head>

<body>

<div id="bodyDiv">

</div>
 <script src="/iles/pages/layui/layui.all.js" charset="UTF-8"></script>
<script src="/iles/pages/js/serverPathConfig.js" charset="UTF-8"></script>
<script src="/iles/pages/assets/js/jquery-1.10.2.js"></script>
<script src="/iles/pages/js/loginInspect.js"></script>
<script src="/iles/pages/wms/controlCabin/productPlanBoard/js/resetFontSize.js"></script>

<script src="/iles/pages/wms/controlCabin/productPlanBoard/plugins/digital/flipclock.js"></script>

 <script src="/iles/pages/wms/controlCabin/productPlanBoard/js/productPlanBoard.js"></script>

 <script src="/iles/pages/wms/controlCabin/productPlanBoard/js/echarts.js"></script>

 
 
<script type="text/html" id="bodyTpl">
<div class="progressTop">
	<div class="dateChoose">
		<div class="_inline">
			<label>需求日期</label>
			<input type="text" name="" id="requiredDate" style="width:400px;">
		</div>
	</div>
	<div class="buttonGroup">
		<button onclick="searchByDate();">查询</button>
		<button onclick="resetDate();">重置</button>
		<!-- <button>导出</button> -->
	</div>
</div>
<div class="container mt50 ml50 mr50">
	<ul class="_panel section">
		<li>
			<div>
				<div class="title">
					<h1>计划出库</h1>
					<div class="clock"></div>
				</div>
				<dl>
					<dt>工位制</dt>
					<dd id="planCountAll"></dd>
				</dl>
				<dl>
					<dt>非工位制</dt>
					<dd id="noPlanCountAll"></dd>
				</dl>
				<div class="circleProgress">
					<h1>配送完成进度</h1>
					<div class="easypiechart" data-percent="88.66" id="circleProgress">
						<span class="percent">88.66%</span>
					</div>
				</div>
			</div>
		</li>
		<li>
			<div>
				<h1>动车组装</h1>
				<h1>动车车体</h1>
				<h1>动车检修</h1>
				<h1>碳钢组装</h1>
				<h1>碳钢车体</h1>
				<h1>转向架</h1>
				<div class="chartPie" id="echartPie"></div>
			</div>
		</li>
		<li>
			<div>
				<div class="chartBar" id="DoubleBar"></div>
			</div>
		</li>
	</ul>
	
	<ul class="section section4">
		<li>
			<div>
				<h1>动车组装工位任务分布</h1>
				<div class="chart" id="echartBar1"></div>
			</div>
		</li>
		<li>
			<div>
				<h1>动车车体工位任务分布</h1>
				<div class="chart" id="echartBar2"></div>
			</div>
		</li>
		<li>
			<div>
				<h1>动车检修工位任务分布</h1>
				<div class="chart" id="echartBar3"></div>
			</div>
		</li>
		
		<li>
			<div>
				<h1>碳钢组装工位任务分布</h1>
				<div class="chart" id="echartBar4"></div>
			</div>
		</li>
		<li>
			<div>
				<h1>碳钢车体工位任务分布</h1>
				<div class="chart" id="echartBar5"></div>
			</div>
		</li>
		<li>
			<div>
				<h1>转向架工位任务分布</h1>
				<div class="chart" id="echartBar6"></div>
			</div>
		</li>
	</ul>
</div>
</script>

<script>
var contextPath = config.wmsConfig.contextPath;
function loadding(){

	 
	layui.use(['laydate'],function(){
		var laydate = layui.laydate;
		var curDate = new Date();
		var curDate2=new Date(curDate.getTime()+24*60*60*1000);
		var curDateStr = dateFtt("yyyy-MM-dd",curDate2)
		var requiredDate=curDateStr+" - "+curDateStr;
		laydate.render({
			elem:"#requiredDate",
			value: requiredDate,
			range: true
		});
	})
	
	
	$.getScript('/iles/pages/wms/controlCabin/productPlanBoard/js/easypiechart.js',function(){
		 var params=initParams();
		initFirstModuleData(params);
		initDoubleBarData(params);
		initSixPieData(params);
		initBarSingleData(params,'echartBar1','动车组装');
		initBarSingleData(params,'echartBar2','动车车体');
		initBarSingleData(params,'echartBar3','动车检修');
		initBarSingleData(params,'echartBar4','碳钢组装');
		initBarSingleData(params,'echartBar5','碳钢车体');
		initBarSingleData(params,'echartBar6','转向架');
		});
 

		
	 
}

function loadJs(url){//url：需要加知载道js路径
    var script = document.createElement("script");
   
    script.type="text/javascript";
    script.src=url;
    document.body.appendChild(script)
}
function dateFtt(fmt,date)   
{ //author: meizz   
  var o = {   
    "M+" : date.getMonth()+1,                 //月份   
    "d+" : date.getDate(),                    //日   
    "h+" : date.getHours(),                   //小时   
    "m+" : date.getMinutes(),                 //分   
    "s+" : date.getSeconds(),                 //秒   
    "q+" : Math.floor((date.getMonth()+3)/3), //季度   
    "S"  : date.getMilliseconds()             //毫秒   
  };   
  if(/(y+)/.test(fmt))   
    fmt=fmt.replace(RegExp.$1, (date.getFullYear()+"").substr(4 - RegExp.$1.length));   
  for(var k in o)   
    if(new RegExp("("+ k +")").test(fmt))   
  fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : (("00"+ o[k]).substr((""+ o[k]).length)));   
  return fmt;   
}
</script>
 
 
</body>
</html>
