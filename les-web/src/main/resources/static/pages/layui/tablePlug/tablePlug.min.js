/** layui-v2.4.5 MIT License By https://www.layui.com */
 ;layui.define(["table"],function(e){"use strict";function t(e,a,i){a=a||window;var l=a.$||a.layui.$;l||console.log("该功能必须依赖jquery,请先为",a,"窗口引入jquery先");var n={};i&&a.top!==a.self&&(n=t(l(a.frames.frameElement),a.parent,i));var o=l("body").hasClass("layui-container")?l("body").offset():{top:0,left:0};return{top:(n.top||0)+e.offset().top-o.top-l(a.document).scrollTop(),left:(n.left||0)+e.offset().left-o.left-l(a.document).scrollLeft()}}var a="1.0.0",i=layui.cache.modules.tablePlug.substr(0,layui.cache.modules.tablePlug.lastIndexOf("/"));layui.link(i+"/tablePlug.css?v"+a),layui.link(i+"/icon/iconfont.css?v"+a);var l=layui.$,n=layui.laytpl,o=layui.laypage,r=layui.layer,c=layui.form,s=(layui.util,layui.table),d=layui.hint();layui.device();if(!c.render.plugFlag){var u=c.render;c.render=function(e,t,a){var i,n=this;return a?layui.each(a,function(t,a){a=l(a);var o=a.parent(),r=o.hasClass("layui-form"),c=o.attr("lay-filter");r?"":o.addClass("layui-form"),c?"":o.attr("lay-filter","tablePlug_form_filter_temp_"+(new Date).getTime()+"_"+Math.floor(1e5*Math.random())),i=u.call(n,e,o.attr("lay-filter")),r?"":o.removeClass("layui-form"),c?"":o.attr("lay-filter",null)}):i=u.call(n,e,t),i},c.render.plugFlag=!0}layui.extend({optimizeSelectOption:"{/}"+i+"/optimizeSelectOption/optimizeSelectOption"}).use("optimizeSelectOption");var f,y="2.4.5",h=(function(){return layui.device().ie&&parseInt(layui.device().ie)<9&&console.warn("tablePlug插件暂时不支持ie9以下的ie浏览器，如果需要支持可自行调试，一般就是一些数组的方法ie8没有还有一个重要的就是window.parent这些支持不好，在getPosition的时候会死循环，如果有这方面相关的经验有处理方法请分享给俺，谢谢。"),!(!s.thisTable||!s.Class)||(console.error("如果要使用该插件（tablePlug），参照readme.md的说明修改layui的table模块的代码，目前该组件是基于layui-V"+y,"https://gitee.com/sun_zoro/layuiTablePlug"),!1)}(),{version:a}),p={},g="additional",m="removed",v="original",b="disabled",x="layui-table-fixed-scroll",k="layui-table-view",T=".layui-table-header",C=".layui-table-body",L=".layui-table-fixed-l",_=".layui-table-fixed-r",O="layui-none",A="layui-hide",w="layui-tablePlug-loading-p",S="colGroup",D=["numbers","checkbox","radio"],P=['<span class="layui-table-filter layui-inline">','<span class="layui-tablePlug-icon layui-tablePlug-icon-filter"></span>',"</span>"],B=function(e){return s.thisTable.that[e]},E=function(){var e={};return{check:function(t){return!!e[t]},reset:function(t){e[t]?(this.set(t,g,[]),this.set(t,m,[])):(e[t]={},e[t][v]=[],e[t][g]=[],e[t][m]=[],e[t][b]=[])},init:function(e,t){this.reset(e),this.set(e,v,t)},disabled:function(t,a){e[t]||this.reset(t),this.set(t,b,a)},checkDisabled:function(e,t){return this.get(e,b).indexOf(t)!==-1},getChecked:function(e){var t=this.get(e,m),a=this.get(e,v).concat(this.get(e,g)),i=[];return layui.each(a,function(e,a){t.indexOf(a)===-1&&i.indexOf(a)===-1&&i.push(a)}),i},get:function(t,a){return a===g||a===m||a===v||a===b?e[t]?e[t][a]||[]:[]:e[t]},set:function(t,a,i){a!==v&&a!==g&&a!==m&&a!==b||(e[t][a]=i&&j(i)?i:[])},update:function(t,a,i){var l=e[t][v],n=e[t][g],o=e[t][m];i?l.indexOf(a)===-1?n.indexOf(a)===-1&&n.push(a):o.indexOf(a)!==-1&&o.splice(o.indexOf(a),1):l.indexOf(a)===-1?n.indexOf(a)!==-1&&n.splice(n.indexOf(a),1):o.indexOf(a)===-1&&o.push(a)}}}(),j=function(e){return"[object Array]"===Object.prototype.toString.call(e)},I=function(e,t,a){if(e&&t&&(a=a||$(t),a&&a.checkStatus))for(var i=E.getChecked(t),l=0;l<e.length;l++)e[l][s.config.checkName]=i.indexOf(e[l][U(a)])!==-1},N=function(e,t){var a;if("string"==typeof e?a=$(e):(a=e.config,e=a?a.id:""),a){var i=a.elem.next();t&&(a.checkDisabled=a.checkDisabled||{},a.checkDisabled.enabled=a.checkDisabled.enabled||!0,a.checkDisabled.data=E.get(e,b)||[]),a.checkDisabled&&a.checkDisabled.enabled?layui.each(s.cache[e],function(t,l){i.find(".layui-table-body").find('tr[data-index="'+t+'"]').find('input[name="layTableCheckbox"]').prop("disabled",E.checkDisabled(e,l[U(a)]))}):E.set(e,b,[]),i.find('input[lay-filter="layTableAllChoose"]').prop("checked",s.checkStatus(e).isAll),c.render("checkbox",i.attr("lay-filter"))}};h.set=function(e){l.extend(!0,s.config,e||{})},h.set({pageLanguageText:{en:{jumpTo:"jump to",page:"page",go:"go",total:"total",unit:"",optionText:"limit each page"}}});var F=s.Class.prototype.loading;s.Class.prototype.loading=function(e){var t=this;if(F.call(t,e),!e&&t.layInit){t.layInit.remove(),t.layInit.addClass("layui-anim layui-anim-rotate layui-anim-loop"),t.layMain.height()||t.layBox.append(l('<div class="'+w+'" style="height: 56px;"></div>'));var a=0;t.layMain.height()-t.layMain.prop("clientHeight")>0&&(a=t.getScrollWidth());var i=t.elem.hasClass("vertical")?0:t.layHeader.height();t.layInit.height(t.layBox.height()-i-a).css("marginTop",i+"px"),t.layBox.append(t.layInit)}},s.Class.prototype.initTable=function(){var e=this;e.layFixed.find("tbody").html(""),e.layFixed.addClass(A),e.layTotal.addClass(A),e.layPage.addClass(A),e.layMain.find("tbody").html(""),e.layMain.find("."+O).remove(),e.layHeader.find('input[name="layTableCheckbox"]').prop("checked",!1),e.renderForm("checkbox")};var M=function(e,t){if(e){var a=B(e),i=a.config;"boolean"!=typeof t&&(t=!i.reversal),i.reversal=t,a.reverse(),a.resize()}else layui.each(s.thisTable.that,function(e,a){M(e,t)})},H=function(){var e=this;N(e),K.call(e),e.layMain.find("."+O).length||(e.layTotal.removeClass(A),e.layFixLeft.removeClass(A)),layui.each(e.tempData,function(t,a){e.addTemp(t+1,a,null,!0)}),e.config.reversal===!0&&e.reverse(),e.layBody.find('input[type="checkbox"][name="layTableCheckbox"]').attr("lay-filter","layTableCheckbox")};s.Class.prototype.pullData=function(e){var t=this,a=t.config,i=a.request,n=a.response,o=function(){"object"==typeof a.initSort&&t.sort(a.initSort.field,a.initSort.type)};if(t.startTime=(new Date).getTime(),a.url){t.setColsWidth(),t.loading();var r={};r[i.pageName]=e,r[i.limitName]=a.limit;var c=l.extend(r,a.where);a.contentType&&0==a.contentType.indexOf("application/json")&&(c=JSON.stringify(c)),l.ajax({type:a.method||"get",url:a.url,contentType:a.contentType,data:c,dataType:"json",headers:a.headers||{},success:function(i){"function"==typeof a.parseData&&(i=a.parseData(i)||i),i[n.statusName]!=n.statusCode?(t.renderForm(),t.initTable(),t.layMain.append('<div class="'+O+'">'+(i[n.msgName]||"返回的数据不符合规范，正确的成功状态码 ("+n.statusName+") 应为："+n.statusCode)+"</div>")):(t.renderData(i,e,i[n.countName]),o(),a.time=(new Date).getTime()-t.startTime+" ms"),t.setColsWidth(),"function"==typeof a.done&&a.done(i,e,i[n.countName])},error:function(e,a){t.initTable(),t.layMain.append('<div class="'+O+'">数据接口请求异常：'+a+"</div>"),t.renderForm(),t.setColsWidth()}})}else if(a.data&&a.data.constructor===Array){var s={},d=e*a.limit-a.limit;s[n.dataName]=a.data.concat().splice(d,a.limit),s[n.countName]=a.data.length,t.initTable(),t.renderData(s,e,a.data.length),o(),t.setColsWidth(),"function"==typeof a.done&&a.done(s,e,s[n.countName])}},s.Class.prototype.renderData=function(e,t,a,i){var c=this,d=c.config,u=e[d.response.dataName]||[],f=[],y=[],h=[],p=function(){var e;return!i&&c.sortKey?c.sort(c.sortKey.field,c.sortKey.sort,!0):(layui.each(u,function(a,o){var r=[],u=[],p=[],g=a+d.limit*(t-1)+1;0!==o.length&&(i||(o[s.config.indexName]=a),c.eachCols(function(t,i){var c=i.field||t,f=d.index+"-"+i.key,y=o[c];if(void 0!==y&&null!==y||(y=""),!i.colGroup){var h=['<td data-field="'+c+'" data-key="'+f+'" '+function(){var e=[];return i.edit&&e.push('data-edit="'+i.edit+'"'),i.align&&e.push('align="'+i.align+'"'),i.templet&&e.push('data-content="'+y+'"'),i.toolbar&&e.push('data-off="true"'),i.event&&e.push('lay-event="'+i.event+'"'),i.style&&e.push('style="'+i.style+'"'),i.minWidth&&e.push('data-minwidth="'+i.minWidth+'"'),e.join(" ")}()+' class="'+function(){var e=[];return i.hide&&e.push(A),i.field||e.push("layui-table-col-special"),e.join(" ")}()+'">','<div class="layui-table-cell laytable-cell-'+function(){return"normal"===i.type?f:f+" laytable-cell-"+i.type}()+'">'+function(){var t=l.extend(!0,{LAY_INDEX:g},o),r=s.config.checkName;switch(i.type){case"checkbox":return'<input type="checkbox" name="layTableCheckbox" lay-skin="primary" '+function(){return i[r]?(o[r]=i[r],i[r]?"checked":""):t[r]?"checked":""}()+">";case"radio":return t[r]&&(e=a),'<input type="radio" name="layTableRadio_'+d.index+'" '+(t[r]?"checked":"")+' lay-type="layTableRadio">';case"numbers":return g}return i.toolbar?n(l(i.toolbar).html()||"").render(t):i.templet?function(){return"function"==typeof i.templet?i.templet(t):n(l(i.templet).html()||String(y)).render(t)}():y}(),"</div></td>"].join("");r.push(h),i.fixed&&"right"!==i.fixed&&u.push(h),"right"===i.fixed&&p.push(h)}}),f.push('<tr data-index="'+a+'">'+r.join("")+"</tr>"),y.push('<tr data-index="'+a+'">'+u.join("")+"</tr>"),h.push('<tr data-index="'+a+'">'+p.join("")+"</tr>"))}),c.layBody.scrollTop(0),!u.length||c.layMain.find("."+O).remove(),c.layMain.find("tbody").html(f.join("")),c.layFixLeft.find("tbody").html(y.join("")),c.layFixRight.find("tbody").html(h.join("")),c.renderForm(),"number"==typeof e&&c.setThisRowChecked(e),c.syncCheckAll(),c.haveInit?c.scrollPatch():setTimeout(function(){c.scrollPatch()},50),c.haveInit=!0,r.close(c.tipsIndex),d.HAS_SET_COLS_PATCH||c.setColsPatch(),d.HAS_SET_COLS_PATCH=!0,void H.call(c))};c.layMain.find("."+O).length&&c.initTable(),c.key=d.id||d.index,I(u,d.id,d);var g=s.getTemp(c.key);return c.tempData=g.data,s.cache[c.key]=u,c.layPage[0==a||0===u.length&&1==t?"addClass":"removeClass"](A),i?p():0===u.length?(c.renderForm(),c.initTable(),c.layMain.append('<div class="'+O+'">'+d.text.none+"</div>")):(p(),c.renderTotal(u),void(d.page&&(d.page=l.extend({elem:"layui-table-page"+d.index,count:a,limit:d.limit,limits:d.limits||[10,20,30,40,50,60,70,80,90],groups:3,layout:["prev","page","next","skip","count","limit"],prev:'<i class="layui-icon">&#xe603;</i>',next:'<i class="layui-icon">&#xe602;</i>',jump:function(e,t){if(t||(c.page=e.curr,d.limit=e.limit,c.loading(),c.pullData(e.curr)),c.config.pageLanguage&&c.config.pageLanguage!==!0){var a;if("string"==typeof c.config.pageLanguage){if(!s.config.pageLanguageText[c.config.pageLanguage])return void console.log("找不到"+c.config.pageLanguage+"对应的语言文本定义");a=s.config.pageLanguageText[c.config.pageLanguage]}else{if("object"!=typeof c.config.pageLanguage)return;var i=c.config.pageLanguage.lan;if(!i)return;a=l.extend({},s.config.pageLanguageText[i],c.config.pageLanguage.text||{})}if(!a)return;var n=c.layPage.find(">div");n.addClass(A);var o=n.find(".layui-laypage-skip"),r=o.find("input"),u=o.find("button");o.html(a.jumpTo||"jump to"),r.appendTo(o),o.append(a.page||"page"),u.html(a.go||"go").appendTo(o);var f=n.find(".layui-laypage-count"),y=f.text();f.html((a.total||"total")+" "+y.split(" ")[1]+(a.unit?" "+a.unit:""));var h=n.find(".layui-laypage-limits");layui.each(h.find("option"),function(e,t){t=l(t);var i=t.text();t.html(i.split(" ")[0]+" "+(a.optionText||"limit each page"))}),n.removeClass(A)}}},d.page),d.page.count=a,o.render(d.page))))};var R=s.Class.prototype.setColsWidth;s.Class.prototype.setColsWidth=function(){var e=this;e.layBox.find("."+w).remove(),R.call(e);var t=e.config,a=(t.id,e.elem),i=a.find("."+O);if(e.elem[i.length&&e.layHeader.first().find(".layui-table").width()-1>e.layHeader.first().width()?"addClass":"removeClass"]("layui-table-none-overflow"),t.cols.length>1){var n=t.cols.length,o=e.layBox.find(T),r=e.layFixed.find(T+" th"),c=!1;r.each(function(e,t){t=l(t);var a=parseInt(t.attr("rowspan")||"1");a<n&&(t.height(o.find('th[data-key="'+t.attr("data-key")+'"]').height()),c=!0)}),c&&e.layFixed.find(">"+T+' th[rowspan="'+n+'"]').height("auto")}e.layBody.scrollTop(0),e.layBody.scrollLeft(0),e.layHeader.scrollLeft(0)},l(window).resize(function(){r.close(f)}),s.Class.prototype.setInit=function(e){var t=this,a=t.config,i=a.id;if(a.clientWidth=a.width||function(){var e=function(t){var i,l;t=t||a.elem.parent(),i=t.width();try{l="none"===t.css("display")}catch(n){}return!t[0]||i&&!l?i:e(t.parent())};return e()}(),"width"===e)return a.clientWidth;if(E.check(i)||E.init(i,a.checkStatus?a.checkStatus["default"]||[]:[]),a.checkDisabled&&j(a.checkDisabled.data)&&a.checkDisabled.data.length&&E.disabled(i,j(a.checkDisabled.data)?a.checkDisabled.data:[]),a.colFilterRecord){var n=Q.get(i,a.colFilterRecord);l.each(a.cols,function(e,t){l.each(t,function(e,t){t.hide=!!n[t.field]})})}else Q.clear(i);layui.each(a.cols,function(e,i){layui.each(i,function(l,n){if(!n)return void i.splice(l,1);if(n.key=e+"-"+l,n.hide=n.hide||!1,t.initOpts(n),n.field||n.toolbar||n.colspan&&1!==n.colspan||D.indexOf(n.type)!==-1?!n[S]||n.colspan>1||(n[S]=!1):n[S]=!0,n.colGroup||n.colspan>1){var o=0;layui.each(a.cols[e+(parseInt(n.rowspan)||1)],function(t,a){a.HAS_PARENT||o>=1&&o==(n.colspan||1)||(a.HAS_PARENT=!0,a.parentKey=e+"-"+l,o+=parseInt(a.colspan>1?a.colspan:1))}),n.colGroup=!0}})})};var Y=s.Class.prototype.reload;s.Class.prototype.reload=function(e){var t=this;s.reload(t.config.id,e,!0)},s.Class.prototype.addTemp=function(e,t,a,i){var o=this,r=[],c=[],d=[],u=o.config,f=t||{};e=-e,s.cache[o.key][e]=f,o.eachCols(function(t,a){var i=a.field||t,o=u.index+"-"+a.key,s=f[i];if(void 0!==s&&null!==s||(s=""),!a.colGroup){var y=['<td data-field="'+i+'" data-key="'+o+'" '+function(){var e=[];return"normal"===a.type&&a.edit!==!1&&e.push('data-edit="text"'),a.align&&e.push('align="'+a.align+'"'),a.templet&&e.push('data-content="'+s+'"'),a.toolbar&&e.push('data-off="true"'),a.event&&e.push('lay-event="'+a.event+'"'),a.style&&e.push('style="'+a.style+'"'),a.minWidth&&e.push('data-minwidth="'+a.minWidth+'"'),e.join(" ")}()+' class="'+function(){var e=[];return a.hide&&e.push(A),a.field||e.push("layui-table-col-special"),e.join(" ")}()+'">','<div class="layui-table-cell laytable-cell-'+function(){return"normal"===a.type?o:o+" laytable-cell-"+a.type}()+'">'+function(){var t=l.extend(!0,{LAY_INDEX:e},f);switch(a.type){case"checkbox":case"radio":case"numbers":return""}return a.toolbar?"":a.templet?function(){return"function"==typeof a.templet?a.templet(t):n(l(a.templet).html()||String(s)).render(t)}():s}(),"</div></td>"].join("");d.push(y),a.fixed&&"right"!==a.fixed&&r.push(y),"right"===a.fixed&&c.push(y)}}),o.layMain.find("."+O).remove(),o.elem.removeClass("layui-table-none-overflow"),o.layMain.find("tbody").append('<tr class="layui-tablePlug-data-temp" data-index="'+e+'">'+d.join("")+"</tr>"),o.layFixLeft.find("tbody").append('<tr class="layui-tablePlug-data-temp" data-index="'+e+'">'+r.join("")+"</tr>"),o.layFixRight.find("tbody").append('<tr class="layui-tablePlug-data-temp" data-index="'+e+'">'+c.join("")+"</tr>"),o.renderForm(),o.resize(),i||o.layBody.scrollTop(o.layBody[0].scrollHeight),o.layBody.find('tr.layui-tablePlug-data-temp[data-index="'+e+'"]').find("td:first-child").append('<div class="close_temp"></div>'),o.layFixRight.find(".close_temp").remove(),"function"==typeof a&&a.call(o.config,o.layBody.find('tr[data-index="'+e+'"]'))},s.addTemp=function(e,t,a){var i=B(e);"function"==typeof t&&(a=t,t={}),i&&i.addTemp(s.getTemp(e).numbers,t&&"object"==typeof t?t:{},a)},s.getTemp=function(e){for(var t=s.cache[e]||[],a=[],i=1;t[-i];i++)j(t[-i])||a.push(t[-i]);return{data:a,numbers:i}},s.cleanTemp=function(e,t){var a=B(e),i=s.getTemp(e),n=s.cache[e]||[];if(i.data.length)for(var o=i.numbers,r=1;r<o&&(!n[-r]||t&&-r!==t||(n[-r]=[],!t));r++);l('div.layui-table-view[lay-id="'+e+'"]').removeClass("has-data-temp-warn").find("tr.layui-tablePlug-data-temp[data-index"+(t?'="'+t+'"':"")+"]").remove(),s.resize(e),a.layBody.scrollTop(a.layBody[0].scrollHeight)},l(document).on("click",".layui-table-view tr.layui-table-hover.layui-tablePlug-data-temp div.close_temp",function(e){layui.stope(e);var t=l(this),a=t.closest("tr"),i=a.closest(".layui-table-view").attr("lay-id");s.cleanTemp(i,a.data("index"))}),s.eachCols=function(e,t,a){var i=this,n=i.thisTable.config[e]||{},o=[],r=0;a=l.extend(!0,[],a||n.cols),layui.each(a,function(e,t){layui.each(t,function(t,i){if(i.colGroup){var l=0;r++,i.CHILD_COLS=[],layui.each(a[e+(parseInt(i.rowspan)||1)],function(e,t){t.PARENT_COL_INDEX||l>=1&&l==(i.colspan||1)||(t.PARENT_COL_INDEX=r,i.CHILD_COLS.push(t),l+=parseInt(t.colspan>1?t.colspan:1))})}i.PARENT_COL_INDEX||o.push(i)})});var c=function(e){layui.each(e||o,function(e,a){return a.CHILD_COLS?c(a.CHILD_COLS):void("function"==typeof t&&t(e,a))})};c()};var K=function(){var e=this,a=e.key,i=e.elem;s.eachCols(a,function(a,n){if("normal"===n.type){var o=n.field;if(!o)return;var c=i.find('th[data-field="'+o+'"]');n.filter?c.find(".layui-table-filter").length?c.find(".layui-table-filter").removeClass("layui-active"):l(P.join("")).insertAfter(c.find(".layui-table-cell>span:not(.layui-inline)")).click(function(a){layui.stope(a);var n=i.find(".layui-table-filter.layui-active");n.length&&n[0]!==this&&(n.removeClass("layui-active"),e.layBody.find("tr."+A).removeClass(A));var c=i.find(".layui-table-main"),d=[];layui.each(c.find('td[data-field="'+o+'"]'),function(e,t){t=l(t);var a=t.text();d.indexOf(a)===-1&&d.push(a)});var u=200,y=300,h=l(this),p=t(h.find(".layui-tablePlug-icon-filter")),g=p.top,m=p.left+h.width();m+u>l(document).width()&&(m-=u+h.width()),f=r.open({content:"",title:null,type:1,area:u+"px",shade:.1,closeBtn:0,fixed:!1,resize:!1,shadeClose:!0,offset:[g+"px",m+"px"],isOutAnim:!1,maxmin:!1,success:function(t,a){t.find(".layui-layer-content").html('<table id="layui-tablePlug-col-filter" lay-filter="layui-tablePlug-col-filter"></table>'),s.render({elem:"#layui-tablePlug-col-filter",data:d.map(function(t,a,i){var n={name:t};return n[s.config.checkName]=!e.layBody.find("tr."+A).filter(function(e,a){return l(a).find('td[data-field="'+o+'"]').text()===t}).length,n}),page:!1,skin:"nob",even:!1,height:d.length>8?y:null,size:"sm",style:"margin: 0;",cols:[[{type:"checkbox",width:40},{field:"name",title:'全选<span class="table-filter-opt-invert" onclick="layui.tablePlug && layui.tablePlug.tableFilterInvert(this);">反选</span>'}]]})},end:function(){h[e.layBody.find("tr."+A).length?"addClass":"removeClass"]("layui-active")}}),s.on("checkbox(layui-tablePlug-col-filter)",function(t){"all"===t.type?e.layBody.find("tr")[t.checked?"removeClass":"addClass"](A):layui.each(e.layBody.first().find('tr td[data-field="'+o+'"]'),function(a,i){if(i=l(i),i.text()===t.data.name){var n=i.parent();e.layBody.find('tr[data-index="'+n.data("index")+'"]')[t.checked?"removeClass":"addClass"](A)}})})}):c.find(".layui-table-filter").remove()}},e.config.cols)};s.Class.prototype.reverse=function(){var e=this,t=e.config,a=t.reversal;return e.elem[a?"addClass":"removeClass"]("vertical"),e.layTotal.css({top:a?e.layTool.outerHeight()-1+"px":0}),e.layMain.css({marginLeft:a?e.layHeader.width()+"px":0}),e};var z=s.Class.prototype.resize;z.modifiedByTablePlug||(s.Class.prototype.resize=function(){var e=this,t=z.call(e);return e.config.reversal===!0&&e.reverse(),t},s.Class.prototype.resize.modifiedByTablePlug=!0);var W=s.render;s.render=function(e){var t=this,a=W.call(t,e),i=B(a.config.id);return i.layMain&&i.layMain.off("scroll").on("scroll",function(){var e=l(this),t=e.scrollLeft(),a=e.scrollTop();i.layHeader.scrollLeft(t),i.layTotal.scrollLeft(t),i.layFixed.find(C+":not(:hover)").scrollTop(a),r.close(i.tipsIndex)}),i.layFixed&&i.layFixed.find(C).on("scroll",function(){var e=l(this);e.is(":hover")&&(i.layFixed.find(C+":not(:hover)").scrollTop(e.scrollTop()),i.layMain.scrollTop(e.scrollTop()))}),p[a.config.id]=a};var G=s.reload,q=function(){var e=["url","method","where","contentType","headers","parseData","request","response","data","page","initSort","autoSort","reversal"],t=["id","elem","elem","cols","width","height"];return{getParams:function(){return l.extend(!0,[],e)},getParamsBlacklist:function(){return l.extend(!0,[],t)},registParams:function(){console.warn("智能重载相关的部分已经从查询模式白名单模式修改为查询模式参数的黑名单模式，所以该方法基本是启用状态，自定义的参数如果不是会修改整个table的框子的可以不用像之前一样要注册一下加入白名单了，使用起来会更加方便一些")},registerBlacklist:function(){console.warn("不建议自己调用改方法将参数加入查询参数的黑名单，除非是在非常了解该功能的前提下");var e=this;layui.each(arguments,function(a,i){j(i)?e.registerBlacklist.apply(e,i):"string"==typeof i&&t.indexOf(i)===-1&&t.push(i)})}}}(),X=function(){var e=!0;return{enable:function(){if(!arguments.length)return e;var t=arguments[0];"boolean"!=typeof t?d.error("如果要开启或者关闭全局的表格智能重载模式，请传入一个true/false为参数"):e=t}}}();s.reload=function(e,t,a){var i=this;t=t||{};var n=$(e),o=l.extend(!0,{},$(e),t);if(o.checkStatus||E.reset(e),X.enable()&&o.smartReloadModel){var r=!1;if(!!o.page!=!!n.page&&(r=!0),!r){var c=q.getParamsBlacklist();layui.each(t,function(e,t){var a=c.indexOf(e);if(a!==-1)return r=!0})}if(!r){var d=B(e);return"object"==typeof t.page&&(t.page.curr&&(d.page=t.page.curr),delete t.elem,delete t.jump),a?l.extend(d.config,t):l.extend(!0,d.config,t),d.config.page||(d.page=1),d.loading(),d.pullData(d.page),s.thisTable.call(d)}}if(!a){var d=G.call(i,e,t);return p[e]=d}Y.call(B(e),t),p[e].config=B(e).config};var $=function(e){return p[e]&&p[e].config},V=s.checkStatus;s.checkStatus=function(e){var t=this,a=V.call(t,e),i=$(e);if(i&&i.checkStatus&&(a.status=E.get(e)),i&&i.checkDisabled){var l=i.checkDisabled;if("object"==typeof l&&l.enabled!==!1){var n=0,o=0,r=U(i),c=E.get(e,b);layui.each(s.cache[e],function(e,t){var a=t[r];c.indexOf(a)===-1&&(n++,t[s.config.checkName]&&o++)}),a.isAll=o>0&&n===o}}return a};var J=function(e,t,a){return!E.checkDisabled(e,t)&&void E.update(e,t,a)},U=function(e){if(e.primaryKey)return e.primaryKey;var t=e.checkStatus&&e.checkStatus.primaryKey,a=e.checkDisabled&&e.checkDisabled.primaryKey;return t&&a&&t!==a&&layui.hint().error("注意：当前表格("+e.id+")中checkStatus和checkDisabled都配置了primaryKey,但是他们不是同一个字段，必须保持表格配置中主键是唯一的，建议直接设置在顶层配置中就可以了！"),a||t||"id"};s.on("checkbox",function(e){var t=l(this).closest(".layui-table-view"),a=t.attr("lay-id"),i=$(a);if(E.check(a)){var n=e.checked,o=e.data,r=e.type,d=U(i);if("one"===r)J(a,o[d],n);else if("all"===r){var u=!1;layui.each(layui.table.cache[a],function(e,i){var l=J(a,i[d],n);if(l===!1){u=!0;var o=E.getChecked(a).indexOf(i[d])!==-1;t.find(".layui-table-body").find('tr[data-index="'+e+'"]').find('input[name="layTableCheckbox"]').prop("checked",o),i[s.config.checkName]=o}}),u&&c.render("checkbox",t.attr("lay-filter"))}}}),c.on("checkbox",function(e){l(e.elem).change()});var Q=function(){var e="tablePlug_col_filter_record",t=function(e){return"local"===e?"data":"sessionData"};return{set:function(a,i,l,n){if(a&&i){var o=t(n),r=this.get(a,n);r[i]=!l,layui[o](e,{key:a,value:r})}},get:function(a,i){return layui[t(i)](e)[a]||{}},clear:function(t){l.each(["data","sessionData"],function(a,i){layui[i](e,{key:t,remove:!0})})}}}();l(document).on("change",'input[lay-filter="LAY_TABLE_TOOL_COLS"]',function(e){var t=l(this),a=t.attr("name"),i=t.closest(".layui-table-view"),n=i.attr("lay-id"),o=$(n),r=o.colFilterRecord;r?Q.set(n,a,this.checked,r):Q.clear(n)}),l(document).off("mousedown",".layui-table-grid-down").on("mousedown",".layui-table-grid-down",function(e){s._tableTdCurr=l(this).closest("td")}),l(document).off("click",".layui-table-tips-main [lay-event]").on("click",".layui-table-tips-main [lay-event]",function(e){var t=l(this),a=s._tableTdCurr;if(a){var i=t.closest(".layui-table-tips").attr("times");r.close(i),s._tableTdCurr.find('[lay-event="'+t.attr("lay-event")+'"]').first().click()}}),s.on("toolbar()",function(e){var t=e.config,a=l(this);t.id,t.elem.next();switch(e.event){case"LAYTABLE_COLS":var i=a.find(".layui-table-tool-panel"),n=i.find('[lay-filter="LAY_TABLE_TOOL_COLS"]'),o=i.find('[lay-filter="LAY_TABLE_TOOL_COLS"]:checked');l('<li class="layui-form" lay-filter="LAY_TABLE_TOOL_COLS_FORM"><input type="checkbox" lay-skin="primary" lay-filter="LAY_TABLE_TOOL_COLS_ALL" '+(n.length===o.length?"checked":"")+' title="全选"><span class="LAY_TABLE_TOOL_COLS_Invert_Selection">反选</span></li>').insertBefore(i.find("li").first()).on("click",".LAY_TABLE_TOOL_COLS_Invert_Selection",function(e){layui.stope(e),i.find('[lay-filter="LAY_TABLE_TOOL_COLS"]+').click()}),c.render("checkbox","LAY_TABLE_TOOL_COLS_FORM")}}),c.on("checkbox(LAY_TABLE_TOOL_COLS_ALL)",function(e){l(e.elem).closest("ul").find('[lay-filter="LAY_TABLE_TOOL_COLS"]'+(e.elem.checked?":not(:checked)":":checked")+"+").click()}),l(document).on("change",'input[lay-filter="LAY_TABLE_TOOL_COLS"]',function(e){var t=l(this);l('input[lay-filter="LAY_TABLE_TOOL_COLS_ALL"]').prop("checked",!!t.prop("checked")&&!l('input[lay-filter="LAY_TABLE_TOOL_COLS"]').not(":checked").length),c.render("checkbox","LAY_TABLE_TOOL_COLS_FORM")}),l(document).on("click",'.layui-table-view tbody [lay-event],.layui-table-view tbody tr [name="layTableCheckbox"]+',function(e){layui.stope(e)}),l(document).on("mouseenter","."+k+" "+_+" "+C,function(e){var t=l(this),a=t.closest(_);"-1px"!==a.css("right")?a.addClass(x):setTimeout(function(){"-1px"!==a.css("right")&&(console.log("出现了一开始还没有打滚动条补丁的时候就触发的情况"),a.addClass(x))},50)}).on("mouseleave","."+k+" "+_+" "+C,function(e){l(this).closest(_).removeClass(x)}).on("mouseenter","."+k+" "+L+" "+C,function(e){var t=l(this),a=t.closest(L),i=a.find(T).find("table").width(),n=a.find(T).width()+1;a.css({width:i+"px"}).find(C).css({width:n+"px"})}).on("mouseleave","."+k+" "+L+" "+C,function(e){l(this).css({width:"auto"}).closest(L).css({width:"auto"})}),c.on("checkbox(layTableAllChoose)",function(e){var t=l(e.elem),a=t.closest("."+k);c.render("checkbox",a.attr("lay-filter"),a.find('[lay-filter="layTableAllChoose"]'+(e.elem.checked?":not(:checked)":":checked")).prop("checked",e.elem.checked))}),c.on("checkbox(layTableCheckbox)",function(e){var t=l(e.elem),a=t.closest("."+k),i=a.find('tr[data-index="'+t.closest("tr").data("index")+'"]');c.render("checkbox",a.attr("lay-filter"),i.find('[lay-filter="layTableCheckbox"]'+(e.elem.checked?":not(:checked)":":checked")).prop("checked",e.elem.checked))});var Z=function(){var e=this,t={},a=e.config,i=e.layMain.scrollTop(),l=e.layMain.scrollLeft();return t[a.response.dataName]=s.cache[a.id],e.renderData(t,e.page,e.count,!0),e.layBody.scrollTop(i),e.layMain.scrollLeft(l),"function"==typeof a.done&&a.done(t,e.page,e.count),e},ee=function(e,t,a){var i=this;if(!t&&0!==t||!a&&0!==a||t<0||a<0||t===a)return i;var l=B(e);if(l){var n=(l.config,s.cache[e]);if(!n||!n[t]||!n[a])return i;n.splice(a,0,n.splice(t,1)[0]),Z.call(l),setTimeout(function(){l.setThisRowChecked(a)},0)}return i},te=function(e,t,a){var i=this;if(!e)return console.warn("tableId不能为空"),i;if(t&&("object"==typeof t||j(t))&&(a=t,t=null),isNaN(t)&&(t=null),a&&"object"!=typeof a&&!j(a))return console.warn("data格式必须是对象或者数组"),i;var n=B(e);if(n){var o=s.cache[e],r=n.config;if(!a)return Z.call(n),i;j(a)&&(t=null),isNaN(t)?(j(a)||(a=[a]),r.primaryKey?layui.each(a,function(e,t){t[r.primaryKey]||layui.each(o,function(e,a){if(a[r.primaryKey]===t[r.primaryKey])return l.extend(!0,o[e],t),!0})}):l.extend(!0,o,a)):l.extend(!0,o[t],a),Z.call(n)}return i};l.extend(h,{CHECK_TYPE_ADDITIONAL:g,CHECK_TYPE_REMOVED:m,CHECK_TYPE_ORIGINAL:v,tableCheck:E,colFilterRecord:Q,getConfig:$,getIns:function(e){return p[e]},disabledCheck:function(e,t){var a=this;E.disabled(e,t||[]),N.call(a,e,!0)},dataRenderChecked:I,queryParams:q,smartReload:X,tableFilterInvert:function(e){e=l(e);var t=e.closest(".layui-table-view"),a=t.attr("lay-id");if(a){var i=s.checkStatus(a);i.isAll?t.find('[lay-filter="layTableAllChoose"]+').click():t.find('tbody [name="layTableCheckbox"]:checked').length?layui.each(t.find('tbody [name="layTableCheckbox"]'),function(e,t){l(t).next().click()}):t.find('[lay-filter="layTableAllChoose"]+').click()}},getPosition:t,reverseTable:M,move:ee,moveUp:function(e,t){return ee.call(this,e,t,t-1)},moveDown:function(e,t){return ee.call(this,e,t,t+1)},update:te}),e("tablePlug",h)});